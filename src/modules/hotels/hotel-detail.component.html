<div class="detail-container">
  <div class="detail-header">
    <button class="btn-back" (click)="goBack()">‚Üê Back to Hotels</button>
    <div>
      <h1>{{ hotel() ? hotel()!.name : 'New Hotel' }}</h1>
      <p class="subtitle">{{ isEditing() ? 'Edit Hotel Details' : 'Hotel Information' }}</p>
    </div>
    <div class="actions" *ngIf="hotel() && !isEditing()">
      <button class="btn btn-primary" (click)="toggleEdit()">Edit</button>
      <button class="btn btn-danger" (click)="deleteHotel()">Delete</button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading()" class="loading-state">
    <div class="spinner"></div>
    <p>Loading...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error()" class="error-state">
    <p>{{ error() }}</p>
    <button class="btn btn-primary" (click)="loadHotel()">Retry</button>
  </div>

  <!-- Content -->
  <div *ngIf="!loading() && !error()" class="detail-content">
    <div class="form-section">
      <h2>Hotel Details</h2>
      <form [formGroup]="form" (ngSubmit)="submit()" class="hotel-form">
        <div class="form-group">
          <label for="name">Hotel Name *</label>
          <input
            *ngIf="isEditing()"
            type="text"
            id="name"
            formControlName="name"
            class="form-input"
            [disabled]="!isEditing()" />
          <div *ngIf="!isEditing()" class="form-value">{{ hotel()?.name }}</div>
        </div>

        <div class="form-group">
          <label for="address">Address *</label>
          <input
            *ngIf="isEditing()"
            type="text"
            id="address"
            formControlName="address"
            class="form-input"
            [disabled]="!isEditing()" />
          <div *ngIf="!isEditing()" class="form-value">{{ hotel()?.address }}</div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="city">City *</label>
            <input
              *ngIf="isEditing()"
              type="text"
              id="city"
              formControlName="city"
              class="form-input"
              [disabled]="!isEditing()" />
            <div *ngIf="!isEditing()" class="form-value">{{ hotel()?.city }}</div>
          </div>

          <div class="form-group">
            <label for="country">Country *</label>
            <input
              *ngIf="isEditing()"
              type="text"
              id="country"
              formControlName="country"
              class="form-input"
              [disabled]="!isEditing()" />
            <div *ngIf="!isEditing()" class="form-value">{{ hotel()?.country }}</div>
          </div>
        </div>

        <div *ngIf="isEditing()" class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Save</button>
          <button type="button" class="btn btn-secondary" (click)="toggleEdit()">Cancel</button>
        </div>
      </form>
    </div>

    <!-- Rooms Section -->
    <div *ngIf="hotel()" class="rooms-section">
      <div class="section-header">
        <h2>Rooms in this Hotel</h2>
        <button class="btn btn-secondary" (click)="viewRoom(0)">Add Room</button>
      </div>

      <div *ngIf="rooms().length === 0" class="empty-state">
        <p>No rooms available</p>
      </div>

      <div *ngIf="rooms().length > 0" class="rooms-list">
        <div *ngFor="let room of rooms()" class="room-item" (click)="viewRoom(room.id)">
          <div class="room-info">
            <h4>Room #{{ room.roomNumber }}</h4>
            <p class="room-type">{{ room.type }}</p>
            <p class="room-price">${{ room.price }}/night</p>
          </div>
          <div class="room-status">
            <span [class.available]="room.available" [class.booked]="!room.available">
              {{ room.available ? 'Available' : 'Booked' }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
